<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul id="source">
    <li>北京空气质量：<b>90</b></li>
    <li>上海空气质量：<b>70</b></li>
    <li>天津空气质量：<b>80</b></li>
    <li>广州空气质量：<b>50</b></li>
    <li>深圳空气质量：<b>40</b></li>
    <li>福州空气质量：<b>32</b></li>
    <li>成都空气质量：<b>90</b></li>
</ul>

<ul id="resort">
    <!--
    <li>第一名：北京空气质量：<b>90</b></li>
    <li>第二名：北京空气质量：<b>90</b></li>
    <li>第三名：北京空气质量：<b>90</b></li>
     -->

</ul>

<button id="sort-btn">排序</button>
<script>
    (function() {
        function getData() {
            var list = [].slice.call(document.querySelectorAll("#source li"))
            var data = list.map(function(el){
                var city = el.innerText.substr(0,2)
                var numText = el.querySelectorAll('b')[0].innerText
                var num = parseInt(numText)
                return [city,num]
            })
            return data
        }

        function sortData(data) {
            data.sort(function(el1,el2){
                return el1[1] - el2[1]
            })
        }

        function render(data) {
            var ul = document.getElementById('resort')

            // 判断列表是否已经生成过
            var list = ul.querySelectorAll('li')
            if(list.length > 0){
                return
            }

            data.forEach(function(el){
                var li = document.createElement('li')
                li.innerText = el
                ul.appendChild(li)
            })
        }
        function btnClickHandler(){
            var data = getData()
            sortData(data)
            render(data)
        }
        function init() {
            var btn = document.getElementById('sort-btn')
            btn.addEventListener('click',btnClickHandler)
        }
        init();
    })();
</script>
</body>
</html>